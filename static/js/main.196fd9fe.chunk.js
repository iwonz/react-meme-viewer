(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e,t,n){},16:function(e,t,n){},17:function(e,t,n){},18:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),s=n(6),l=n(7),r=n(1),c=n(2),o=n(4),m=n(3),u=n(5),d=(n(15),n(16),n(17),function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(o.a)(this,Object(m.a)(t).call(this,e))).addLike=function(){n.setState({likes:n.state.likes+1})},n.state={likes:e.isLiked?1:0},n}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.meme,n=e.isDetailsVisible,a=e.onOpenDetailsClick,s=n?i.a.createElement("span",null,t.date," by ",t.author):"";return i.a.createElement("div",{className:"meme"},i.a.createElement("a",{href:t.permalink,target:"_blank"},i.a.createElement("img",{src:t.image,alt:t.title})),i.a.createElement("div",{className:"meme__content"},i.a.createElement("a",{href:t.permalink,target:"_blank"},t.title),i.a.createElement("br",null),i.a.createElement("button",{className:"meme__details-btn",onClick:a},n?"Hide":"Show"," details"),i.a.createElement("br",null),s,i.a.createElement("br",null),i.a.createElement("button",{className:"meme__like",onClick:this.addLike},"Like ",this.state.likes?this.state.likes+" \u2665":"")))}}]),t}(a.PureComponent)),h=function(e){function t(){var e,n;Object(r.a)(this,t);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return(n=Object(o.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(i)))).state={activeMemeId:1,defaultLikedMemeId:2},n.toggleActiveMeme=function(e){return n.setState({activeMemeId:n.state.activeMemeId===e?null:e})},n}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.state,n=t.activeMemeId,a=t.defaultLikedMemeId,s=this.props.memes.map(function(t){return i.a.createElement(d,{meme:t,isLiked:t.id===a,isDetailsVisible:t.id===n,onOpenDetailsClick:e.toggleActiveMeme.bind(e,t.id),key:t.id})});return i.a.createElement("div",{className:"meme-list"},s)}}]),t}(a.Component),f=function(e){function t(){var e,n;Object(r.a)(this,t);for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return(n=Object(o.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(s)))).state={memeCount:0,offset:0,memes:[],reversed:!1},n.memeList=i.a.createRef(),n.revertMemes=function(){n.setState({memes:Object(l.a)(n.state.memes).reverse()})},n}return Object(u.a)(t,e),Object(c.a)(t,[{key:"componentWillMount",value:function(){var e=this;fetch("https://api.memeload.us/v1/stats").then(function(e){return e.json()}).then(function(t){e.setState({memeCount:t.meme_count}),e.loadMemes()})}},{key:"componentDidMount",value:function(){this.onScrollHandle=this.onScroll.bind(this),window.addEventListener("scroll",this.onScrollHandle)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.onScrollHandle)}},{key:"render",value:function(){return i.a.createElement("div",{className:"meme-finder"},i.a.createElement("h1",null,"MemeViewer (thx ",i.a.createElement("a",{href:"https://memeload.us",target:"_blank"},"memeload.us"),")"),i.a.createElement("button",{onClick:this.revertMemes},"Reverse"),i.a.createElement(h,{ref:this.memeList,memes:this.state.memes}))}},{key:"loadMemes",value:function(){var e=this;if(!this.state.isLoading){this.setState({isLoading:!0});var t=this.state.offset+2;t=t>this.state.memeCount?this.state.memeCount:t;for(var n=[],a=this.state.offset+1;a<=t;a++)n.push(fetch("https://api.memeload.us/v1/get?id=".concat(a)).then(function(e){return e.json()}));Promise.all(n).then(function(n){e.setState({isLoading:!1,offset:t,memes:[].concat(Object(l.a)(e.state.memes),Object(l.a)(n))}),e.onScrollHandle()})}}},{key:"onScroll",value:function(){var e=Object(s.findDOMNode)(this.memeList.current);e&&(e.clientHeight<=window.innerHeight||window.pageYOffset>=e.clientHeight-1.4*window.innerHeight)&&this.loadMemes()}}]),t}(a.Component);Object(s.render)(i.a.createElement(f,null),document.getElementById("root"))},9:function(e,t,n){e.exports=n(18)}},[[9,1,2]]]);
//# sourceMappingURL=main.196fd9fe.chunk.js.map